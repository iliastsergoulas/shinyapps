theme(axis.text.x = element_text(angle = 90, hjust = 1))
p2
p2<-ggplot(topfatal_aggr_human_mydata, aes(topfatal_aggr_human_mydata$event_type)) +
geom_bar(stat='identity') +
theme(axis.text.x = element_text(angle = 90, hjust = 1))
p2
p2<-ggplot(topfatal_aggr_human_mydata, aes(topfatal_aggr_human_mydata$event_type)) +
geom_bar(stat='identity') +
geom_line(aes(y = fatalities, colour = 'fatalities', group = 1)) +
geom_line(aes(y = injuries, colour = 'injuries', group = 1)) +
theme(axis.text.x = element_text(angle = 90, hjust = 1))
p2
p2<-ggplot(topfatal_aggr_human_mydata, aes(topfatal_aggr_human_mydata$event_type)) +
geom_bar(stat='identity') +
geom_line(aes(y = topfatal_aggr_human_mydata$fatalities_number, colour = 'fatalities', group = 1)) +
geom_line(aes(y = topfatal_aggr_human_mydata$injuries_number, colour = 'injuries', group = 1)) +
theme(axis.text.x = element_text(angle = 90, hjust = 1))
p2
p2<-ggplot(topfatal_aggr_human_mydata, aes(topfatal_aggr_human_mydata$event_type)) +
geom_line(aes(y = topfatal_aggr_human_mydata$fatalities_number, colour = 'fatalities', group = 1)) +
geom_line(aes(y = topfatal_aggr_human_mydata$injuries_number, colour = 'injuries', group = 1)) +
theme(axis.text.x = element_text(angle = 90, hjust = 1)) +
ggtitle('Weather events that harmed people since 1950')
p2
p2<-ggplot(topfatal_aggr_human_mydata, aes(topfatal_aggr_human_mydata$event_type)) +
geom_bar(stat='identity') +
theme(axis.text.x = element_text(angle = 90, hjust = 1)) +
ggtitle('Weather events that harmed people since 1950')
p2
p3<-ggplot(topfatal_aggr_human_mydata, aes(x=topfatal_aggr_human_mydata$event_type,
y=c(topfatal_aggr_human_mydata$fatalities_number, topfatal_aggr_human_mydata$injuries_number))) +
geom_line(aes(y = topfatal_aggr_human_mydata$fatalities_number, colour = 'fatalities', group = 1)) +
geom_line(aes(y = topfatal_aggr_human_mydata$injuries_number, colour = 'injuries', group = 1)) +
theme(axis.text.x = element_text(angle = 90, hjust = 1)) +
ggtitle('Weather events that harmed people since 1950')
p3
p3<-ggplot(topfatal_aggr_human_mydata, aes(x=topfatal_aggr_human_mydata$event_type,
y=c(topfatal_aggr_human_mydata$fatalities_number, topfatal_aggr_human_mydata$injuries_number))) +
geom_bar(stat = "identity") +
theme(axis.text.x = element_text(angle = 90, hjust = 1)) +
ggtitle('Weather events that harmed people since 1950')
p3
p3<-ggplot(topfatal_aggr_human_mydata$event_type, aes(x=topfatal_aggr_human_mydata$event_type,
y=c(topfatal_aggr_human_mydata$fatalities_number, topfatal_aggr_human_mydata$injuries_number))) +
geom_bar(stat = "identity") +
theme(axis.text.x = element_text(angle = 90, hjust = 1)) +
ggtitle('Weather events that harmed people since 1950')
p3
p2<-ggplot(topfatal_aggr_human_mydata, aes(topfatal_aggr_human_mydata$event_type)) +
geom_line(aes(y = topfatal_aggr_human_mydata$fatalities_number, colour = 'fatalities', group = 1)) +
geom_line(aes(y = topfatal_aggr_human_mydata$injuries_number, colour = 'injuries', group = 1)) +
theme(axis.text.x = element_text(angle = 90, hjust = 1)) +
xlab("Types of weather events") +
ylab("Number of incidents") +
ggtitle('Weather events that harmed people since 1950')
p2
p2<-ggplot(topfatal_aggr_human_mydata, aes(topfatal_aggr_human_mydata$event_type)) +
geom_bar(aes(y = topfatal_aggr_human_mydata$fatalities_number, colour = 'fatalities', group = 1)) +
geom_bar(aes(y = topfatal_aggr_human_mydata$injuries_number, colour = 'injuries', group = 1)) +
theme(axis.text.x = element_text(angle = 90, hjust = 1)) +
xlab("Types of weather events") +
ylab("Number of incidents") +
ggtitle('Weather events that harmed people since 1950')
p2
p2<-ggplot(topfatal_aggr_human_mydata, aes(topfatal_aggr_human_mydata$event_type)) +
geom_bar(stat = "identity", aes(y = topfatal_aggr_human_mydata$fatalities_number, colour = 'fatalities', group = 1)) +
geom_bar(stat = "identity", aes(y = topfatal_aggr_human_mydata$injuries_number, colour = 'injuries', group = 1)) +
theme(axis.text.x = element_text(angle = 90, hjust = 1)) +
xlab("Types of weather events") +
ylab("Number of incidents") +
ggtitle('Weather events that harmed people since 1950')
p2
p2<-ggplot(topfatal_aggr_human_mydata, aes(topfatal_aggr_human_mydata$event_type)) +
geom_bar(stat = "identity", aes(y = topfatal_aggr_human_mydata$injuries_number, colour = 'injuries', group = 1)) +
geom_bar(stat = "identity", aes(y = topfatal_aggr_human_mydata$fatalities_number, colour = 'fatalities', group = 1)) +
theme(axis.text.x = element_text(angle = 90, hjust = 1)) +
xlab("Types of weather events") +
ylab("Number of incidents") +
ggtitle('Weather events that harmed people since 1950')
p2
?geom_bar
p2<-ggplot(topfatal_aggr_human_mydata, aes(topfatal_aggr_human_mydata$event_type)) +
geom_bar(stat = "identity",
aes(y = topfatal_aggr_human_mydata$injuries_number, colour = 'Human injuries', group = 1)) +
geom_bar(position = "stack",stat = "identity",
aes(y = topfatal_aggr_human_mydata$fatalities_number, colour = 'Human fatalities', group = 1)) +
theme(axis.text.x = element_text(angle = 90, hjust = 1)) +
xlab("Types of weather events") +
ylab("Number of incidents") +
ggtitle('Weather events that harmed people since 1950')
p2
p2<-ggplot(topfatal_aggr_human_mydata, aes(topfatal_aggr_human_mydata$event_type)) +
geom_bar(position = "stack",stat = "identity",
aes(y = topfatal_aggr_human_mydata$injuries_number, colour = 'Human injuries', group = 1)) +
geom_bar(position = "stack",stat = "identity",
aes(y = topfatal_aggr_human_mydata$fatalities_number, colour = 'Human fatalities', group = 1)) +
theme(axis.text.x = element_text(angle = 90, hjust = 1)) +
xlab("Types of weather events") +
ylab("Number of incidents") +
ggtitle('Weather events that harmed people since 1950')
p2
p2<-ggplot(topfatal_aggr_human_mydata, aes(topfatal_aggr_human_mydata$event_type)) +
geom_bar(stat = "bin",
aes(y = topfatal_aggr_human_mydata$injuries_number, colour = 'Human injuries', group = 1)) +
geom_bar(stat = "bin",
aes(y = topfatal_aggr_human_mydata$fatalities_number, colour = 'Human fatalities', group = 1)) +
theme(axis.text.x = element_text(angle = 90, hjust = 1)) +
xlab("Types of weather events") +
ylab("Number of incidents") +
ggtitle('Weather events that harmed people since 1950')
p2
p2<-ggplot(topfatal_aggr_human_mydata, aes(topfatal_aggr_human_mydata$event_type)) +
geom_bar(position = "dodge", stat = "identity",
aes(y = topfatal_aggr_human_mydata$injuries_number, colour = 'Human injuries', group = 1)) +
geom_bar(position = "dodge", stat = "identity",
aes(y = topfatal_aggr_human_mydata$fatalities_number, colour = 'Human fatalities', group = 1)) +
theme(axis.text.x = element_text(angle = 90, hjust = 1)) +
xlab("Types of weather events") +
ylab("Number of incidents") +
ggtitle('Weather events that harmed people since 1950')
p2
p2<-ggplot(topfatal_aggr_human_mydata, aes(topfatal_aggr_human_mydata$event_type)) +
geom_bar(position = "fill", stat = "identity",
aes(y = topfatal_aggr_human_mydata$injuries_number, colour = 'Human injuries', group = 1)) +
geom_bar(position = "fill", stat = "identity",
aes(y = topfatal_aggr_human_mydata$fatalities_number, colour = 'Human fatalities', group = 1)) +
theme(axis.text.x = element_text(angle = 90, hjust = 1)) +
xlab("Types of weather events") +
ylab("Number of incidents") +
ggtitle('Weather events that harmed people since 1950')
p2
p2<-ggplot(topfatal_aggr_human_mydata, aes(topfatal_aggr_human_mydata$event_type)) +
geom_bar(position = "dodge", stat = "identity",
aes(y = topfatal_aggr_human_mydata$injuries_number, colour = 'Human injuries', group = 1)) +
geom_bar(position = "dodge", stat = "identity",
aes(y = topfatal_aggr_human_mydata$fatalities_number, colour = 'Human fatalities', group = 1)) +
theme(axis.text.x = element_text(angle = 90, hjust = 1)) +
xlab("Types of weather events") +
ylab("Number of incidents") +
ggtitle('Weather events that harmed people since 1950')
p2
p2<-ggplot(topfatal_aggr_human_mydata, aes(topfatal_aggr_human_mydata$event_type)) +
geom_bar(position = "dodge", stat = "count",
aes(y = topfatal_aggr_human_mydata$injuries_number, colour = 'Human injuries', group = 1)) +
geom_bar(position = "dodge", stat = "count",
aes(y = topfatal_aggr_human_mydata$fatalities_number, colour = 'Human fatalities', group = 1)) +
theme(axis.text.x = element_text(angle = 90, hjust = 1)) +
xlab("Types of weather events") +
ylab("Number of incidents") +
ggtitle('Weather events that harmed people since 1950')
p2
p2<-ggplot(topfatal_aggr_human_mydata, aes(topfatal_aggr_human_mydata$event_type)) +
geom_bar(position = "dodge", stat = "bin",
aes(y = topfatal_aggr_human_mydata$injuries_number, colour = 'Human injuries', group = 1)) +
geom_bar(position = "dodge", stat = "bin",
aes(y = topfatal_aggr_human_mydata$fatalities_number, colour = 'Human fatalities', group = 1)) +
theme(axis.text.x = element_text(angle = 90, hjust = 1)) +
xlab("Types of weather events") +
ylab("Number of incidents") +
ggtitle('Weather events that harmed people since 1950')
p2
p2<-ggplot(topfatal_aggr_human_mydata, aes(topfatal_aggr_human_mydata$event_type)) +
geom_bar(position = "dodge", stat = "identity",
aes(y = topfatal_aggr_human_mydata$injuries_number, colour = 'Human injuries', group = 1)) +
geom_bar(position = "dodge", stat = "identity",
aes(y = topfatal_aggr_human_mydata$fatalities_number, colour = 'Human fatalities', group = 1)) +
theme(axis.text.x = element_text(angle = 90, hjust = 1)) +
xlab("Types of weather events") +
ylab("Number of incidents") +
ggtitle('Weather events that harmed people since 1950')
p2
p2<-ggplot(topfatal_aggr_human_mydata, aes(topfatal_aggr_human_mydata$event_type)) +
geom_bar(position = "dodge", stat = "identity", aes(fill = "red"),
aes(y = topfatal_aggr_human_mydata$injuries_number, colour = 'Human injuries', group = 1)) +
geom_bar(position = "dodge", stat = "identity", aes(fill = "blue"),
aes(y = topfatal_aggr_human_mydata$fatalities_number, colour = 'Human fatalities', group = 1)) +
theme(axis.text.x = element_text(angle = 90, hjust = 1)) +
xlab("Types of weather events") +
ylab("Number of incidents") +
ggtitle('Weather events that harmed people since 1950')
p2
p2<-ggplot(topfatal_aggr_human_mydata, aes(topfatal_aggr_human_mydata$event_type)) +
geom_bar(aes(fill = "red"), position = "dodge", stat = "identity",
aes(y = topfatal_aggr_human_mydata$injuries_number, colour = 'Human injuries', group = 1)) +
geom_bar(aes(fill = "blue"), position = "dodge", stat = "identity",
aes(y = topfatal_aggr_human_mydata$fatalities_number, colour = 'Human fatalities', group = 1)) +
theme(axis.text.x = element_text(angle = 90, hjust = 1)) +
xlab("Types of weather events") +
ylab("Number of incidents") +
ggtitle('Weather events that harmed people since 1950')
p2
p2<-ggplot(topfatal_aggr_human_mydata, aes(topfatal_aggr_human_mydata$event_type)) +
geom_bar(position = "dodge", stat = "identity",
aes(y = topfatal_aggr_human_mydata$injuries_number, colour = 'Human injuries')) +
geom_bar(position = "dodge", stat = "identity",
aes(y = topfatal_aggr_human_mydata$fatalities_number, colour = 'Human fatalities')) +
theme(axis.text.x = element_text(angle = 90, hjust = 1)) +
xlab("Types of weather events") +
ylab("Number of incidents") +
ggtitle('Weather events that harmed people since 1950')
p2
p2<-ggplot(topfatal_aggr_human_mydata, aes(topfatal_aggr_human_mydata$event_type)) +
geom_bar(aes(fill = "red"), position = "dodge", stat = "identity",
aes(y = topfatal_aggr_human_mydata$injuries_number, colour = 'Human injuries', group = 1)) +
geom_bar(aes(fill = "blue"), position = "dodge", stat = "identity",
aes(y = topfatal_aggr_human_mydata$fatalities_number, colour = 'Human fatalities', group = 1)) +
theme(axis.text.x = element_text(angle = 90, hjust = 1)) +
xlab("Types of weather events") +
ylab("Number of incidents") +
ggtitle('Weather events that harmed people since 1950')
p2
p2<-ggplot(topfatal_aggr_human_mydata, aes(topfatal_aggr_human_mydata$event_type)) +
geom_bar(stat="identity", position="dodge") +
theme(axis.text.x = element_text(angle = 90, hjust = 1)) +
xlab("Types of weather events") +
ylab("Number of incidents") +
ggtitle('Weather events that harmed people since 1950')
p2
p2<-ggplot(topfatal_aggr_human_mydata, aes(topfatal_aggr_human_mydata$event_type)) +
geom_bar(position = "dodge", stat = "identity",
aes(y = topfatal_aggr_human_mydata$injuries_number, colour = 'Human injuries', group = 1)) +
geom_bar(position = "dodge", stat = "identity",
aes(y = topfatal_aggr_human_mydata$fatalities_number, colour = 'Human fatalities', group = 1)) +
theme(axis.text.x = element_text(angle = 90, hjust = 1)) +
xlab("Types of weather events") +
ylab("Number of incidents") +
ggtitle('Weather events that harmed people since 1950')
p2
p2<-ggplot(topfatal_aggr_human_mydata, aes(topfatal_aggr_human_mydata$event_type)) +
geom_bar(position = "dodge", stat = "identity",
aes(y = topfatal_aggr_human_mydata$injuries_number, colour = 'Human injuries', group = 1)) +
geom_bar(position = "dodge", stat = "identity",
aes(y = topfatal_aggr_human_mydata$fatalities_number, colour = 'Human fatalities', group = 1)) +
theme(axis.text.x = element_text(angle = 90, hjust = 1)) +
xlab("Types of weather events") +
scale_fill_manual(values=cbbPalette) +
ylab("Number of incidents") +
ggtitle('Weather events that harmed people since 1950')
p2
p2<-ggplot(topfatal_aggr_human_mydata, aes(topfatal_aggr_human_mydata$event_type)) +
geom_bar(position = "dodge", stat = "identity",
aes(y = topfatal_aggr_human_mydata$injuries_number, colour = 'Human injuries', group = 1)) +
geom_bar(position = "dodge", stat = "identity",
aes(y = topfatal_aggr_human_mydata$fatalities_number, colour = 'Human fatalities', group = 1)) +
theme(axis.text.x = element_text(angle = 90, hjust = 1)) +
xlab("Types of weather events") +
ylab("Number of incidents") +
ggtitle('Weather events that harmed people since 1950')
p2
p2<-ggplot(topfatal_aggr_human_mydata, aes(topfatal_aggr_human_mydata$event_type,
y=c(topfatal_aggr_human_mydata$fatalities_number, topfatal_aggr_human_mydata$injuries_number))) +
geom_bar(position = "dodge", stat = "identity",
colour = 'Human injuries', group = 1)) +
theme(axis.text.x = element_text(angle = 90, hjust = 1)) +
xlab("Types of weather events") +
ylab("Number of incidents") +
ggtitle('Weather events that harmed people since 1950')
p2
p2<-ggplot(topfatal_aggr_human_mydata, aes(topfatal_aggr_human_mydata$event_type,
y=c(topfatal_aggr_human_mydata$fatalities_number, topfatal_aggr_human_mydata$injuries_number))) +
geom_bar(position = "dodge", stat = "identity",
colour = 'Human injuries', group = 1) +
theme(axis.text.x = element_text(angle = 90, hjust = 1)) +
xlab("Types of weather events") +
ylab("Number of incidents") +
ggtitle('Weather events that harmed people since 1950')
p2
p2<-ggplot(topfatal_aggr_human_mydata, aes(topfatal_aggr_human_mydata$event_type,
y=c(topfatal_aggr_human_mydata$fatalities_number))) +
geom_bar(position = "dodge", stat = "identity",
aes(y = topfatal_aggr_human_mydata$injuries_number, colour = 'Human injuries', group = 1)) +
geom_bar(position = "dodge", stat = "identity",
aes(y = topfatal_aggr_human_mydata$fatalities_number, colour = 'Human fatalities', group = 1)) +
theme(axis.text.x = element_text(angle = 90, hjust = 1)) +
xlab("Types of weather events") +
ylab("Number of incidents") +
ggtitle('Weather events that harmed people since 1950')
p2
p2<-ggplot(topfatal_aggr_human_mydata, aes(topfatal_aggr_human_mydata$event_type)) +
geom_bar(position = "dodge", stat = "identity",
aes(y = topfatal_aggr_human_mydata$injuries_number, colour = 'Human injuries', group = 1)) +
geom_bar(position = "dodge", stat = "identity",
aes(y = topfatal_aggr_human_mydata$fatalities_number, colour = 'Human fatalities', group = 1)) +
theme(axis.text.x = element_text(angle = 90, hjust = 1)) +
xlab("Types of weather events") +
ylab("Number of incidents") +
ggtitle('Weather events that harmed people since 1950')
p2
plot_harm_humans<-ggplot(topfatal_aggr_human_mydata, aes(topfatal_aggr_human_mydata$event_type)) +
geom_bar(position = "dodge", stat = "identity",
aes(y = topfatal_aggr_human_mydata$injuries_number, colour = 'Human injuries', group = 1)) +
geom_bar(position = "dodge", stat = "identity",
aes(y = topfatal_aggr_human_mydata$fatalities_number, colour = 'Human fatalities', group = 1)) +
theme(axis.text.x = element_text(angle = 90, hjust = 1)) +
xlab("Types of weather events") +
ylab("Number of incidents") +
ggtitle('Weather events that harmed people since 1950')
plot_harm_humans
plot_damages<-ggplot(topprop_aggr_damages_mydata, aes(topprop_aggr_damages_mydata$event_type)) +
geom_bar(position = "dodge", stat = "identity",
aes(y = topprop_aggr_damages_mydata$crop_damages, colour = 'Crop damages', group = 1)) +
geom_bar(position = "dodge", stat = "identity",
aes(y = topprop_aggr_damages_mydata$property_damages, colour = 'Property damages', group = 1)) +
theme(axis.text.x = element_text(angle = 90, hjust = 1)) +
xlab("Types of weather events") +
ylab("Number of incidents") +
ggtitle('Weather events that harmed people since 1950')
plot_damages
View(mydata)
plot_damages<-ggplot(topprop_aggr_damages_mydata, aes(topprop_aggr_damages_mydata$event_type)) +
geom_bar(position = "dodge", stat = "identity",
aes(y = topprop_aggr_damages_mydata$property_damages, colour = 'Property damages', group = 1)) +
geom_bar(position = "dodge", stat = "identity",
aes(y = topprop_aggr_damages_mydata$crop_damages, colour = 'Crop damages', group = 1)) +
theme(axis.text.x = element_text(angle = 90, hjust = 1)) +
theme(axis.text.y = element_text(vjust = 1)) +
xlab("Types of weather events") +
ylab("Number of incidents") +
ggtitle('Weather events that harmed people since 1950')
plot_damages
library(ggplot2)
plot_harm_humans<-ggplot(topfatal_aggr_human_mydata, aes(topfatal_aggr_human_mydata$event_type)) +
geom_bar(position = "dodge", stat = "identity",
aes(y = topfatal_aggr_human_mydata$injuries_number, colour = 'Human injuries', group = 1)) +
geom_bar(position = "dodge", stat = "identity",
aes(y = topfatal_aggr_human_mydata$fatalities_number, colour = 'Human fatalities', group = 1)) +
theme(axis.text.x = element_text(angle = 90, hjust = 1)) +
xlab("Types of weather events") +
ylab("Number of incidents") +
ggtitle('Weather events that harmed people since 1950')
plot_harm_humans
plot_damages<-ggplot(topprop_aggr_damages_mydata, aes(topprop_aggr_damages_mydata$event_type)) +
geom_bar(position = "dodge", stat = "identity",
aes(y = topprop_aggr_damages_mydata$property_damages, colour = 'Property damages', group = 1)) +
geom_bar(position = "dodge", stat = "identity",
aes(y = topprop_aggr_damages_mydata$crop_damages, colour = 'Crop damages', group = 1)) +
theme(axis.text.x = element_text(angle = 90, hjust = 1)) +
theme(axis.text.y = element_text(vjust = 1)) +
xlab("Types of weather events") +
ylab("Number of incidents") +
ggtitle('Weather events that harmed people since 1950')
plot_damages
aggr_human_mydata<-aggregate(x=cbind(mydata$FATALITIES, mydata$INJURIES), by=list(mydata$EVTYPE), FUN=sum, na.rm=TRUE)
aggr_damages_mydata<-aggregate(x=cbind(mydata$PROPDMG, mydata$CROPDMG), by=list(mydata$EVTYPE), FUN=sum, na.rm=TRUE)
colnames(aggr_human_mydata)<-c("event_type", "fatalities_number", "injuries_number")
aggr_human_mydata<-aggr_human_mydata[order(-aggr_human_mydata$fatalities_number),]
topfatal_aggr_human_mydata<-aggr_human_mydata[1:10,]
colnames(aggr_damages_mydata)<-c("event_type", "property_damages", "crop_damages")
aggr_damages_mydata<-aggr_damages_mydata[order(-aggr_damages_mydata$property_damages),]
topprop_aggr_damages_mydata<-aggr_damages_mydata[1:10,]
library(ggplot2)
plot_harm_humans<-ggplot(topfatal_aggr_human_mydata, aes(topfatal_aggr_human_mydata$event_type)) +
geom_bar(position = "dodge", stat = "identity",
aes(y = topfatal_aggr_human_mydata$injuries_number, colour = 'Human injuries', group = 1)) +
geom_bar(position = "dodge", stat = "identity",
aes(y = topfatal_aggr_human_mydata$fatalities_number, colour = 'Human fatalities', group = 1)) +
theme(axis.text.x = element_text(angle = 90, hjust = 1)) +
xlab("Types of weather events") +
ylab("Number of incidents") +
ggtitle('Weather events that harmed people since 1950')
plot_harm_humans
plot_damages<-ggplot(topprop_aggr_damages_mydata, aes(topprop_aggr_damages_mydata$event_type)) +
geom_bar(position = "dodge", stat = "identity",
aes(y = topprop_aggr_damages_mydata$property_damages, colour = 'Property damages', group = 1)) +
geom_bar(position = "dodge", stat = "identity",
aes(y = topprop_aggr_damages_mydata$crop_damages, colour = 'Crop damages', group = 1)) +
theme(axis.text.x = element_text(angle = 90, hjust = 1)) +
theme(axis.text.y = element_text(vjust = 1)) +
xlab("Types of weather events") +
ylab("Number of incidents") +
ggtitle('Weather events that harmed people since 1950')
plot_damages
plot_damages<-ggplot(topprop_aggr_damages_mydata, aes(topprop_aggr_damages_mydata$event_type)) +
geom_bar(position = "dodge", stat = "identity",
aes(y = topprop_aggr_damages_mydata$property_damages, colour = 'Property damages', group = 1)) +
geom_bar(position = "dodge", stat = "identity",
aes(y = topprop_aggr_damages_mydata$crop_damages, colour = 'Crop damages', group = 1)) +
theme(axis.text.x = element_text(angle = 90, hjust = 1)) +
theme(axis.text.y = element_text(hjust = 1)) +
xlab("Types of weather events") +
ylab("Number of incidents") +
ggtitle('Weather events that harmed people since 1950')
plot_damages
plot_damages<-ggplot(topprop_aggr_damages_mydata, aes(topprop_aggr_damages_mydata$event_type)) +
geom_bar(position = "dodge", stat = "identity",
aes(y = topprop_aggr_damages_mydata$property_damages, colour = 'Property damages', group = 1)) +
geom_bar(position = "dodge", stat = "identity",
aes(y = topprop_aggr_damages_mydata$crop_damages, colour = 'Crop damages', group = 1)) +
theme(axis.text.x = element_text(angle = 90, hjust = 1)) +
theme(axis.text.y = element_text(vjust = 1)) +
xlab("Types of weather events") +
ylab("Number of incidents") +
ggtitle('Weather events that harmed people since 1950')
plot_damages
plot_damages<-ggplot(topprop_aggr_damages_mydata, aes(topprop_aggr_damages_mydata$event_type)) +
geom_bar(position = "dodge", stat = "identity",
aes(y = topprop_aggr_damages_mydata$property_damages, colour = 'Property damages', group = 1)) +
geom_bar(position = "dodge", stat = "identity",
aes(y = topprop_aggr_damages_mydata$crop_damages, colour = 'Crop damages', group = 1)) +
theme(axis.text.x = element_text(angle = 90, vjust = 2)) +
theme(axis.text.y = element_text(hjust = 1)) +
xlab("Types of weather events") +
ylab("Number of incidents") +
ggtitle('Weather events that harmed people since 1950')
plot_damages
plot_damages<-ggplot(topprop_aggr_damages_mydata, aes(topprop_aggr_damages_mydata$event_type)) +
geom_bar(position = "dodge", stat = "identity",
aes(y = topprop_aggr_damages_mydata$property_damages, colour = 'Property damages', group = 1)) +
geom_bar(position = "dodge", stat = "identity",
aes(y = topprop_aggr_damages_mydata$crop_damages, colour = 'Crop damages', group = 1)) +
theme(axis.text.x = element_text(angle = 90, hjust = 1)) +
theme(axis.text.y = element_text(vjust = 3)) +
xlab("Types of weather events") +
ylab("Number of incidents") +
ggtitle('Weather events that harmed people since 1950')
plot_damages
plot_damages<-ggplot(topprop_aggr_damages_mydata, aes(topprop_aggr_damages_mydata$event_type)) +
geom_bar(position = "dodge", stat = "identity",
aes(y = topprop_aggr_damages_mydata$property_damages, colour = 'Property damages', group = 1)) +
geom_bar(position = "dodge", stat = "identity",
aes(y = topprop_aggr_damages_mydata$crop_damages, colour = 'Crop damages', group = 1)) +
theme(axis.text.x = element_text(angle = 90, hjust = 1)) +
theme(axis.text.y = element_text(hjust = 3)) +
xlab("Types of weather events") +
ylab("Number of incidents") +
ggtitle('Weather events that harmed people since 1950')
plot_damages
?axis.text.y
??axis.text.y
?vjust
??vjust
View(mydata)
View(myd)
View(topprop_aggr_damages_mydata)
?geom_bar
temp <- tempfile()
download.file("https://d396qusza40orc.cloudfront.net/repdata%2Fdata%2FStormData.csv.bz2", temp, method = "libcurl", mode = "wb")
mydata <- read.csv(temp)
unlink(temp)
View(mydata)
shiny::runApp('country/aquaculture_production_eu_country_8407')
runApp('country/aquaculture_production_eu_country_8407')
runApp('country/aquaculture_production_eu_country_8407')
runApp('country/aquaculture_production_eu_country_8407')
runApp('country/aquaculture_production_eu_country_8407')
library(shiny)
library(googleVis)
library(shinythemes)
library(eurostat)
library(countrycode)
library(ggplot2)
library(directlabels)
mydata<-get_eurostat("fish_aq_q", time_format = "raw") # Downloading raw data from Eurostat
mydata$geo<-as.character(mydata$geo)
mydata<-mydata[which(mydata$unit=='TLW' & mydata$aquaenv=='TOTAL'& mydata$fishreg==0 & mydata$species=='F00'), ] # Filtering data
for (i in 1:nrow(mydata)) { # Replacing country codes in order to get correct country names
if(as.character(mydata$geo[i])=="EL") {
mydata$geo[i] <- "GR"}
if(as.character(mydata$geo[i])=="UK") {
mydata$geo[i] <- "GB"}}
mydata$countryname <- countrycode(mydata$geo, "iso2c", "country.name") # Getting country names
mydata<-mydata[which(!is.na(mydata$countryname)), c("countryname", "time", "values")] # Filtering for country names not found
colnames(mydata)<-c("country", "year", "quantity")
View(mydata)
mydata<-aggregate(x=mydata$quantity, by=list(mydata$country), FUN=mean, na.rm=TRUE)
warnings()
runApp('country/aquaculture_production_eu_country_8407')
print(mydata)
runApp('country/aquaculture_production_eu_country_8407')
runApp('country/aquaculture_production_eu_country_8407')
runApp('country/aquaculture_production_eu_country_8407')
runApp('country/aquaculture_production_eu_country_8407')
class(mydata$year)
mydata<-get_eurostat("fish_aq_q", time_format = "raw") # Downloading raw data from Eurostat
mydata$geo<-as.character(mydata$geo)
mydata<-mydata[which(mydata$unit=='TLW' & mydata$aquaenv=='TOTAL'& mydata$fishreg==0 & mydata$species=='F00'), ] # Filtering data
for (i in 1:nrow(mydata)) { # Replacing country codes in order to get correct country names
if(as.character(mydata$geo[i])=="EL") {
mydata$geo[i] <- "GR"}
if(as.character(mydata$geo[i])=="UK") {
mydata$geo[i] <- "GB"}}
mydata$countryname <- countrycode(mydata$geo, "iso2c", "country.name") # Getting country names
mydata<-mydata[which(!is.na(mydata$countryname)), c("countryname", "time", "values")] # Filtering for country names not found
colnames(mydata)<-c("country", "year", "quantity")
class(mydata$year)
runApp('country/aquaculture_production_eu_country_8407')
runApp('country/aquaculture_production_eu_country_8407')
runApp('country/aquaculture_production_eu_country_8407')
runApp('country/aquaculture_production_eu_country_8407')
runApp('country/aquaculture_production_eu_country_8407')
runApp('country/aquaculture_production_eu_country_8407')
runApp('country/aquaculture_production_eu_country_8407')
runApp('country/aquaculture_production_eu_country_8407')
runApp('country/aquaculture_production_eu_country_8407')
runApp('country/aquaculture_production_eu_country_8407')
runApp('country/aquaculture_production_eu_country_8407')
runApp('country/aquaculture_production_eu_country_8407')
runApp('country/aquaculture_production_eu_country_8407')
runApp('country/aquaculture_production_eu_country_8407')
runApp('country/aquaculture_production_eu_country_8407')
runApp('country/aquaculture_production_eu_country_8407')
runApp('country/aquaculture_production_eu_country_8407')
runApp('country/aquaculture_production_eu_country_8407')
runApp('country/aquaculture_production_eu_country_8407')
m<-"2000"
as.numeric(m)
as.integer(m)
m
class(m)
?sliderInput
runApp('country/aquaculture_production_eu_country_8407')
runApp('country/aquaculture_production_eu_country_8407')
